(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{398:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"history-pushstate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#history-pushstate"}},[t._v("#")]),t._v(" history.pushState")]),t._v(" "),a("h3",{attrs:{id:"누구세요"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#누구세요"}},[t._v("#")]),t._v(" 누구세요?")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("실제 url 이동 없이 현재 url만 바꿔치기 하고 싶을때 사용함."),a("br"),t._v(" "),a("strong",[t._v("url은 바꾸고싶고 서버에 요청은 보내지 말아야 할 때.(갱신x)")])]),t._v(" "),a("p",[t._v("나는 ajax로 리스트 데이터를 가지고오는데 url도 바꿔줘야했어서 썼다")]),t._v(" "),a("p",[t._v("쓸때마다 까먹어서 이번기회에 정리")]),t._v(" "),a("h3",{attrs:{id:"어떻게"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#어떻게"}},[t._v("#")]),t._v(" 어떻게?")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pushState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" title "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("state : 저장할 데이터. {data: _data}. 미사용시 "),a("code",[t._v("null")])]),t._v(" "),a("li",[t._v("title : 변경할 브라우저 title. 미변경시 "),a("code",[t._v("null")])]),t._v(" "),a("li",[t._v("url(Optional) : new history entry's URL")])]),t._v(" "),a("h3",{attrs:{id:"유의사항"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#유의사항"}},[t._v("#")]),t._v(" 유의사항")]),t._v(" "),a("hr"),t._v(" "),a("ol",[a("li",[a("strong",[t._v("IE10이상 지원!!!!!")])])]),t._v(" "),a("p",[t._v("따라서 사용 시 지원 여부를 고려하여 사용하기")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pushState "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"function"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 지원 o")]),t._v("\n  history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pushState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 지원 x")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("strong",[t._v("뒤로가기시 url은 바뀌지만 이벤트는 발생하지 않음!")])])]),t._v(" "),a("p",[t._v("예를들어,")]),t._v(" "),a("ol",[a("li",[t._v("필터에서 year 2021, month 7 선택 후 검색을 하면 ajax로 데이터를 가지고오고"),a("br"),t._v("\n파라미터에 year month도 붙음.")]),t._v(" "),a("li",[t._v("그 다음 year 2020, month 6 선택후 검색하면 ajax로 데이터를 가져오고 파라미터도 붙음!")]),t._v(" "),a("li",[t._v("이 상태에서 뒤로가기 누르면 리스트 데이터는 "),a("code",[t._v("2021-07")]),t._v(" 에 대한 것임."),a("br"),t._v("\n하지만 파라미터는 "),a("code",[t._v("2020-06")]),t._v(" 인 상태임!")])]),t._v(" "),a("p",[t._v("난 뒤로갔을때 바뀐 url에 담긴 필터 데이터에 해당하는 list 데이터를 가져와야 했으므로"),a("br"),t._v("\n뒤로가기 이벤트도 따로 처리해주었다.")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'popstate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originalEvent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pushState에서 저장한 state data")]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 뒤로가기시 처리할 이벤트")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"api-문서"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-문서"}},[t._v("#")]),t._v(" api 문서")]),t._v(" "),a("hr"),t._v(" "),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/History/pushState",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developer.mozilla.org/en-US/docs/Web/API/History/pushState"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);