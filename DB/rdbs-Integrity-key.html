<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RDBS - 무결성 (Integrity)과 키 | Today Eunji Learned</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/TIL/logo.png">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-MQSTKVVWY0"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-MQSTKVVWY0');</script>
    <script async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8737576293731551" crossorigin="anonymous"></script>
    <meta name="description" content="Eunji's Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.cf2c056d.css" as="style"><link rel="preload" href="/TIL/assets/js/app.db9675ed.js" as="script"><link rel="preload" href="/TIL/assets/js/7.b10dff56.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.92fb40b1.js"><link rel="prefetch" href="/TIL/assets/js/11.69a45447.js"><link rel="prefetch" href="/TIL/assets/js/12.70603e4f.js"><link rel="prefetch" href="/TIL/assets/js/13.2df82959.js"><link rel="prefetch" href="/TIL/assets/js/14.bd055100.js"><link rel="prefetch" href="/TIL/assets/js/15.8f1bcc2b.js"><link rel="prefetch" href="/TIL/assets/js/16.6b7f8b16.js"><link rel="prefetch" href="/TIL/assets/js/17.8519f887.js"><link rel="prefetch" href="/TIL/assets/js/18.35c68cbf.js"><link rel="prefetch" href="/TIL/assets/js/19.33361ce5.js"><link rel="prefetch" href="/TIL/assets/js/2.bb74e93b.js"><link rel="prefetch" href="/TIL/assets/js/20.86aabec3.js"><link rel="prefetch" href="/TIL/assets/js/21.0bcc6a7c.js"><link rel="prefetch" href="/TIL/assets/js/22.c345d40a.js"><link rel="prefetch" href="/TIL/assets/js/23.2afe1e02.js"><link rel="prefetch" href="/TIL/assets/js/24.07e9712b.js"><link rel="prefetch" href="/TIL/assets/js/25.57d1b7de.js"><link rel="prefetch" href="/TIL/assets/js/26.1b765ca3.js"><link rel="prefetch" href="/TIL/assets/js/27.9d3d4d13.js"><link rel="prefetch" href="/TIL/assets/js/28.5fc828ce.js"><link rel="prefetch" href="/TIL/assets/js/29.82c0f4c9.js"><link rel="prefetch" href="/TIL/assets/js/3.d5cf1c43.js"><link rel="prefetch" href="/TIL/assets/js/30.54d99d31.js"><link rel="prefetch" href="/TIL/assets/js/31.16b7591d.js"><link rel="prefetch" href="/TIL/assets/js/32.531cf4db.js"><link rel="prefetch" href="/TIL/assets/js/33.dc8593e5.js"><link rel="prefetch" href="/TIL/assets/js/34.92b50eb8.js"><link rel="prefetch" href="/TIL/assets/js/35.af8ca4de.js"><link rel="prefetch" href="/TIL/assets/js/36.6912d014.js"><link rel="prefetch" href="/TIL/assets/js/4.9f52eef0.js"><link rel="prefetch" href="/TIL/assets/js/5.99f67de6.js"><link rel="prefetch" href="/TIL/assets/js/6.cf6011a9.js"><link rel="prefetch" href="/TIL/assets/js/8.2e40607a.js"><link rel="prefetch" href="/TIL/assets/js/9.4c2c0319.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.cf2c056d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today Eunji Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/kim-eun-ji/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://kim-eun-ji.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/kim-eun-ji/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://kim-eun-ji.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>형상관리 관련</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>DB</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/DB/rdbs-Integrity-key.html" aria-current="page" class="active sidebar-link">RDBS - 무결성 (Integrity)과 키</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#⚡-데이터의-무결성이란" class="sidebar-link">⚡ 데이터의 무결성이란</a></li><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#_1-개체-무결성-entity-integrity" class="sidebar-link">1. 개체 무결성 (Entity integrity)</a></li><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#_2-참조-무결성-referential-integrity" class="sidebar-link">2. 참조 무결성 (Referential integrity)</a></li><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#_3-도메인-무결성-domain-integrity" class="sidebar-link">3. 도메인 무결성 (Domain integrity)</a></li><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#_4-무결성-규칙-integrity-rule" class="sidebar-link">4. 무결성 규칙 (Integrity rule)</a></li><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#🔑-키의-종류와-기능" class="sidebar-link">🔑 키의 종류와 기능</a></li><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#_1-슈퍼-키-super-key" class="sidebar-link">1. 슈퍼 키 (Super Key)</a></li><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#_2-후보-키-candidate-key" class="sidebar-link">2. 후보 키 (Candidate key)</a></li><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#_3-기본-키-primary-key" class="sidebar-link">3. 기본 키 (Primary key)</a></li><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#_4-대체-키-alternate-key" class="sidebar-link">4. 대체 키 (Alternate key)</a></li><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#_5-복합-키-composite-key" class="sidebar-link">5. 복합 키 (Composite key)</a></li><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#_6-외래-키-foreign-key" class="sidebar-link">6. 외래 키 (Foreign key)</a></li><li class="sidebar-sub-header"><a href="/TIL/DB/rdbs-Integrity-key.html#외래-키와-참조-무결성" class="sidebar-link">외래 키와 참조 무결성</a></li></ul></li><li><a href="/TIL/DB/mysql-DATE_FORMAT.html" class="sidebar-link">[MYSQL] DATE_FORMAT</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Design Pattern</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Algorithm</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>미분류</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="rdbs-무결성-integrity-과-키"><a href="#rdbs-무결성-integrity-과-키" class="header-anchor">#</a> RDBS - 무결성 (Integrity)과 키</h1> <p>학부생, 자격증 시험볼때 무작정 외웠던 것들을 되돌아보기</p> <h2 id="⚡-데이터의-무결성이란"><a href="#⚡-데이터의-무결성이란" class="header-anchor">#</a> ⚡ 데이터의 무결성이란</h2> <p>데이터의 <code>정확성</code> <code>일관성</code> <code>유효성</code> 이 유지되는 것을 말한다.</p> <p>데이터의 무결성을 유지하는 것은 DBMS의 중요한 기능이며, 데이터에 적용되는 연산에 제한을 두어 데이터의 무결성을 유지한다.</p> <h2 id="_1-개체-무결성-entity-integrity"><a href="#_1-개체-무결성-entity-integrity" class="header-anchor">#</a> 1. 개체 무결성 (Entity integrity)</h2> <p>모든 테이블이 기본키(pk)로 선택된 필드를 가져야 한다. 기본 키로 선택된 필드는 고유한 값을 가져야 하며, 빈 값은 허용하지 않는다.</p> <h2 id="_2-참조-무결성-referential-integrity"><a href="#_2-참조-무결성-referential-integrity" class="header-anchor">#</a> 2. 참조 무결성 (Referential integrity)</h2> <p>참조 관계에 있는 두 테이블의 데이터가 항상 일관된 값을 갖도록 유지되는 것.</p> <p>다음 그림은 참조 무결성이 깨지는 경우를 보여준다.</p> <p><code>department</code> 테이블의 id=310인 레코드를 삭제 시, <code>student</code> 테이블에서 id=3 레코드는 dept_id가 삭제된 310을 참조하고 있었기 때문에 존재하지 않는 데이터를 참조하게 된다.</p> <p><img src="/TIL/assets/img/Untitled.416367f2.png" alt="../.vuepress/public/images/DB/rdbs-Integrity-key/Untitled.png"></p> <h2 id="_3-도메인-무결성-domain-integrity"><a href="#_3-도메인-무결성-domain-integrity" class="header-anchor">#</a> 3. 도메인 무결성 (Domain integrity)</h2> <p>테이블에 존재하는 필드의 무결성을 보장하기 위한 것.</p> <p>필드의 타입, NULL값의 허용 등에 대한 사항을 정의하고 올바른 데이터가 입력됐는지 확인하는 것.</p> <p>(ex) 도메인 무결성이 깨지는 경우 : 주민등록번호 필드에 알파벳이 입력되는 경우</p> <p>DBMS의 기본값 설정, NOT NULL 옵션 등의 제약 사항으로 도메인 무결성을 보장할 수 있다.</p> <h2 id="_4-무결성-규칙-integrity-rule"><a href="#_4-무결성-규칙-integrity-rule" class="header-anchor">#</a> 4. 무결성 규칙 (Integrity rule)</h2> <p>데이터의 무결성을 지키기 위한 모든 제약사항들을 말한다.</p> <p>비즈니스 규칙은 DB 이용 유저에 따라 서로 다르게 적용되지만, 무결성 규칙은 DB전체에 공통적으로 적용되는 규칙이다.</p> <h2 id="🔑-키의-종류와-기능"><a href="#🔑-키의-종류와-기능" class="header-anchor">#</a> 🔑 키의 종류와 기능</h2> <p>다양한 종류의 키들은 db에서 데이터의 무결성을 유지하기 위한 중요한 수단으로 이용되고 있다.</p> <ul><li>유일성 : 모든 레코드에서 해당 필드에 중복된 값이 나타나지 않는 속성.</li> <li>최소성 : 최소한의 필드로 레코드를 유일하게 구별할 수 있는 속성.</li></ul> <h2 id="_1-슈퍼-키-super-key"><a href="#_1-슈퍼-키-super-key" class="header-anchor">#</a> 1. 슈퍼 키 (Super Key)</h2> <p>슈퍼키는 테이블에 존재하는 필드들의 부분집합이며 <code>유일성</code>을 만족해야 한다.</p> <p>슈퍼 키 중에서 <code>최소성</code> 을 만족하는 키 = 후보키</p> <h2 id="_2-후보-키-candidate-key"><a href="#_2-후보-키-candidate-key" class="header-anchor">#</a> 2. 후보 키 (Candidate key)</h2> <p>기본 키가 될 수 있는 키.</p> <p>테이블에 존재하는 전체 필드의 부분집합으로, <code>유일성</code>과 <code>최소성</code>을 만족해야한다.</p> <ul><li>후보키 탈락 예시
<ul><li>{ id, dept_id } ⇒ 최소성 만족 x (id만으로 레코드 구별 가능)</li> <li>{ dept_id } ⇒ 유일성 만족x</li></ul></li></ul> <h2 id="_3-기본-키-primary-key"><a href="#_3-기본-키-primary-key" class="header-anchor">#</a> 3. 기본 키 (Primary key)</h2> <p>테이블에서 특정 레코드를 구별하기 위해 후보 키 중에서 선택 된 고유한 식별자.</p> <p><code>유일성</code> <code>최소성</code> <code>NULL 값 불가</code> 만족해야 한다.</p> <ul><li>기본키 선택 시 고려할 사항
<ul><li><strong>값이 자주 변경되지 않는 것 선택</strong> : 값이 변경될 때 마다 해당 값이 유일한지, NULL 값은 아닌지 검사해야하기 때문에 자주 변경되지 않는 필드를 기본키로 설정하는 것이 좋다.</li> <li><strong>값이 단순한 것을 선택 :</strong> 많은 자릿수를 갖거나 많은 문자를 포함한다면 기본 키 비교시 그만큼 많은 비용이 소모될 것이므로 짧고 단순한 형식의 데이터를 저장하는 필드를 설정하자!</li></ul></li></ul> <h2 id="_4-대체-키-alternate-key"><a href="#_4-대체-키-alternate-key" class="header-anchor">#</a> 4. 대체 키 (Alternate key)</h2> <p>후보키 중에서 기본키로 선택된 것들을 제외한 모든 키</p> <h2 id="_5-복합-키-composite-key"><a href="#_5-복합-키-composite-key" class="header-anchor">#</a> 5. 복합 키 (Composite key)</h2> <p>한개 이상의 필드를 포함하는 키.</p> <h2 id="_6-외래-키-foreign-key"><a href="#_6-외래-키-foreign-key" class="header-anchor">#</a> 6. 외래 키 (Foreign key)</h2> <p>한 테이블의 키 중에서 다른 테이블의 레코드를 유일하게 식별할 수 있는 키.</p> <p>한 테이블의 레코드에서 다른 테이블의 레코드를 참조하기 위해 이용된다.</p> <p>아래 이미지에서 <code>order</code> 테이블의 <code>product_id</code> 는 <code>product</code> 테이블의 <code>product_id</code> 를 통해 해당 레코드를 참조하기 위해 설정 된 외래키이다.</p> <p><img src="/TIL/assets/img/Untitled1.966170b3.png" alt="../.vuepress/public/images/DB/rdbs-Integrity-key/Untitled1.png"></p> <p>외래키는 다음과 같은 속성(제약 조건)을 통해 참조 무결성과 관련된 문제가 발생하지 않도록 한다.</p> <ul><li><strong>속성</strong> <ol><li>하나의 필드 또는 전체 필드의 부분집합으로 구성된다.</li> <li>중복된 값과 NULL 값을 가질 수 <code>있다</code></li> <li>반드시 <code>참조되는 테이블에서 유일한 값을 갖는 필드</code> 를 참조해야 한다.(EX) 참조할 테이블의 기본키</li> <li>참조할 테이블에 존재하는 값 만을 가져야 한다. NULL값은 실제로 존재하는 값은 아니지만, 많은 DB에서 NULL값은 예외로 한다.</li></ol></li></ul> <h2 id="외래-키와-참조-무결성"><a href="#외래-키와-참조-무결성" class="header-anchor">#</a> 외래 키와 참조 무결성</h2> <p>DB에서 참조 무결성을 위해 참조 대상이 존재하지 않는 외래 키를 허용하지 않는다.</p> <p>어떤 외래키 <code>B</code> 가 <code>A</code>를 참조한다면, <code>A</code> 는 반드시 db에 존재해야 한다.</p> <p>외래키는 참조 무결성을 지키기 위해 <code>RESTRICTED</code> <code>CASCADE</code> <code>SET NULL</code> 이라는 개념을 외래 키에 적용할 수 있도록 기능을 제공한다.</p> <ul><li><code>RESTRICTED</code>  : 레코드를 변경/삭제 시, 해당 레코드를 참조하고 있는 개체가 있다면 변경/삭제 <strong>연산을 취소</strong></li> <li><code>CASCADE</code> : 레코드를 변경/삭제 시, 해당 레코드를 <strong>참조하고 있는 개체도 변경/삭제</strong></li> <li><code>SET NULL</code> : 레코드 변경/삭제 시, 해당 레코드를 <strong>참조하고 있는 개체의 값을 NULL로 설정</strong></li></ul> <h3 id="참고"><a href="#참고" class="header-anchor">#</a> 참고</h3> <hr> <p><a href="https://untitledtblog.tistory.com/123" target="_blank" rel="noopener noreferrer">https://untitledtblog.tistory.com/123<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/11/2022, 5:17:02 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/Git/push-permission-403-error.html" class="prev">
        push permission 403 error
      </a></span> <span class="next"><a href="/TIL/DB/mysql-DATE_FORMAT.html">
        [MYSQL] DATE_FORMAT
      </a>
      →
    </span></p></div> </main></div> <div id="comment_con"><div></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/TIL/assets/js/app.db9675ed.js" defer></script><script src="/TIL/assets/js/7.b10dff56.js" defer></script>
  </body>
</html>
