<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>비동기 처리 이해 * 프로세스와 스레드 | Today Eunji Learned</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/TIL/logo.png">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-MQSTKVVWY0"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-MQSTKVVWY0');</script>
    <script async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8737576293731551" crossorigin="anonymous"></script>
    <meta name="description" content="Eunji's Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.cf2c056d.css" as="style"><link rel="preload" href="/TIL/assets/js/app.db9675ed.js" as="script"><link rel="preload" href="/TIL/assets/js/9.4c2c0319.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.92fb40b1.js"><link rel="prefetch" href="/TIL/assets/js/11.69a45447.js"><link rel="prefetch" href="/TIL/assets/js/12.70603e4f.js"><link rel="prefetch" href="/TIL/assets/js/13.2df82959.js"><link rel="prefetch" href="/TIL/assets/js/14.bd055100.js"><link rel="prefetch" href="/TIL/assets/js/15.8f1bcc2b.js"><link rel="prefetch" href="/TIL/assets/js/16.6b7f8b16.js"><link rel="prefetch" href="/TIL/assets/js/17.8519f887.js"><link rel="prefetch" href="/TIL/assets/js/18.35c68cbf.js"><link rel="prefetch" href="/TIL/assets/js/19.33361ce5.js"><link rel="prefetch" href="/TIL/assets/js/2.bb74e93b.js"><link rel="prefetch" href="/TIL/assets/js/20.86aabec3.js"><link rel="prefetch" href="/TIL/assets/js/21.0bcc6a7c.js"><link rel="prefetch" href="/TIL/assets/js/22.c345d40a.js"><link rel="prefetch" href="/TIL/assets/js/23.2afe1e02.js"><link rel="prefetch" href="/TIL/assets/js/24.07e9712b.js"><link rel="prefetch" href="/TIL/assets/js/25.57d1b7de.js"><link rel="prefetch" href="/TIL/assets/js/26.1b765ca3.js"><link rel="prefetch" href="/TIL/assets/js/27.9d3d4d13.js"><link rel="prefetch" href="/TIL/assets/js/28.5fc828ce.js"><link rel="prefetch" href="/TIL/assets/js/29.82c0f4c9.js"><link rel="prefetch" href="/TIL/assets/js/3.d5cf1c43.js"><link rel="prefetch" href="/TIL/assets/js/30.54d99d31.js"><link rel="prefetch" href="/TIL/assets/js/31.16b7591d.js"><link rel="prefetch" href="/TIL/assets/js/32.531cf4db.js"><link rel="prefetch" href="/TIL/assets/js/33.dc8593e5.js"><link rel="prefetch" href="/TIL/assets/js/34.92b50eb8.js"><link rel="prefetch" href="/TIL/assets/js/35.af8ca4de.js"><link rel="prefetch" href="/TIL/assets/js/36.6912d014.js"><link rel="prefetch" href="/TIL/assets/js/4.9f52eef0.js"><link rel="prefetch" href="/TIL/assets/js/5.99f67de6.js"><link rel="prefetch" href="/TIL/assets/js/6.cf6011a9.js"><link rel="prefetch" href="/TIL/assets/js/7.b10dff56.js"><link rel="prefetch" href="/TIL/assets/js/8.2e40607a.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.cf2c056d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today Eunji Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/kim-eun-ji/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://kim-eun-ji.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/kim-eun-ji/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://kim-eun-ji.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>형상관리 관련</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DB</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Design Pattern</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Algorithm</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>미분류</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/ETC/process_and_thread.html" aria-current="page" class="active sidebar-link">비동기 처리 이해 * 프로세스와 스레드</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/ETC/process_and_thread.html#⛅-프로세스" class="sidebar-link">⛅ 프로세스</a></li><li class="sidebar-sub-header"><a href="/TIL/ETC/process_and_thread.html#⛅-스레드" class="sidebar-link">⛅ 스레드</a></li><li class="sidebar-sub-header"><a href="/TIL/ETC/process_and_thread.html#⛅-비동기-처리" class="sidebar-link">⛅ 비동기 처리</a></li><li class="sidebar-sub-header"><a href="/TIL/ETC/process_and_thread.html#⛅-자바스크립트는-싱글-스레드-기반이다" class="sidebar-link">⛅ 자바스크립트는 싱글 스레드 기반이다.</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="비동기-처리-이해-프로세스와-스레드"><a href="#비동기-처리-이해-프로세스와-스레드" class="header-anchor">#</a> 비동기 처리 이해 * 프로세스와 스레드</h1> <h2 id="⛅-프로세스"><a href="#⛅-프로세스" class="header-anchor">#</a> ⛅ 프로세스</h2> <p>운영체제로부터 자원을 할당 받는 작업의 단위<br>
어플리케이션 하나가 프로세스, 그 안에서 분기 처리가 스레드.</p> <h3 id="멀티-프로세스"><a href="#멀티-프로세스" class="header-anchor">#</a> 멀티 프로세스</h3> <p>하나의 <strong>프로그램을 여러개의 프로세스로 구성</strong>, 각 프로세스가 하나의 작업을 처리하는 것.</p> <ul><li>장점 : 하나의 프로세스가 잘못되어도 프로그램은 동작함.</li> <li>단점 : 💡<strong>context switching</strong> 비용 발생.</li></ul> <blockquote><p><strong>💡 context switching</strong></p></blockquote> <p>cpu에서 여러 프로세스를 돌아가며 작업을 처리하는 과정.</p> <ul><li><p>다음의 과정을 말한다.<br>
⇒ 멀티프로세스환경에서 cpu가 어떤 하나의 프로세스를 실행하고 있다.<br>
⇒ 이때 인터럽트 요청에 의해 다음 우선순위의 프로세스가 실행되어야 한다.<br>
⇒ 기존 실행중이던 프로세스의 상태를 저장한다.<br>
⇒ 그리고 cpu가 다음 프로세스를 수행하도록 세로운 프로세스의 상태를 교체한다.</p></li> <li><p>동작중인 프로세스가 자신의 상태(context)를 보관하며 대기하고 있다가 다시 실행시 복구하는 비용(시간)을 말한다.</p></li></ul> <h2 id="⛅-스레드"><a href="#⛅-스레드" class="header-anchor">#</a> ⛅ 스레드</h2> <p>할당 받은 자원을 이용하는 실행의 단위<br>
프로세스 내 여러개 존재 가능</p> <h3 id="멀티-스레드"><a href="#멀티-스레드" class="header-anchor">#</a> 멀티 스레드</h3> <p>하나의 프로그램을 <strong>여러개의 스레드로 구성</strong>하고 각 스레드가 작업을 처리하는 것.</p> <p>프로세스와 다르게 스레드간 자원을 공유하고 있다는 사실을 명심한다.</p> <ul><li>장점 : 시스템 자원 소모 감소, 처리 비용 감소(실행 속도 향상), 스레드간 자원 공유(stack영역)</li> <li>단점 : 디버깅 어려움, 동기화 이슈 발생, 하나의 스레드의 오류→ 전체 프로세스에 문제 발생</li></ul> <blockquote><p><strong>💡 Thread Safe</strong></p></blockquote> <p>여러 스레드가 동시에 사용되어도 안전하다는 것을 의미.</p> <p>특정 함수 a와 변수 b가 여러 스레드에서 호출되어도 하나의 스레드에서 호출했을 때와 같은 결과가 보장되어야 한다는 의미.</p> <p>함수가 전역변수를 참조하게 된다면 그 함수는 thread safe하지 않은 결과가 나올 수도 있다.</p> <h2 id="⛅-비동기-처리"><a href="#⛅-비동기-처리" class="header-anchor">#</a> ⛅ 비동기 처리</h2> <h3 id="등장-배경"><a href="#등장-배경" class="header-anchor">#</a> 등장 배경</h3> <p>대부분의 기업형 애플리케이션은 중앙 서버에서 동작하며, 서버는 <strong>중앙집중형태</strong>로 클라이언트의 요청을 받는다. ⇒ <strong>병목현상</strong> 발생 가능성 높음</p> <p>대부분의 병목 구간은 <strong>입출력(IO)에서 발생</strong>하며**,** 이러한 문제를 해결하기 위해 <strong>사용자의 요청을 스레드로 처리</strong>한다.</p> <h3 id="멀티-스레드의-한계"><a href="#멀티-스레드의-한계" class="header-anchor">#</a> 멀티 스레드의 한계</h3> <p>멀티 스레드 기반 서버는 일반적으로 <strong>클라이언트의 요청마다 스레드를 발생</strong>시킨다.</p> <p>⇒ 동접자수가 많을 수록 스레드가 많이 발생함
⇒ 메모리 자원 소모 多 but 서버 자원은 한정되어있음
⇒ 일정 수 이상의 스레드는 발생시킬 수 없음!!</p> <p>이러한 근본적인 문제를 안고 있기 때문에 서버를 업그레이드하거나 로드밸런싱등으로 <strong>분산처리</strong>를 한다.</p> <p>결론적으로 멀티 스레드는 개발자입장에선 직관적이지만, 네트워크에서 동시에 대규모 요청을 처리하는 데는 부적절하다. 이 부분을 극복하기 위해선 비동기 프로그래밍을 사용해야 한다.</p> <h3 id="병렬처리의-대안-비동기-처리"><a href="#병렬처리의-대안-비동기-처리" class="header-anchor">#</a> 병렬처리의 대안 : 비동기 처리</h3> <p><img src="/TIL/assets/img/Untitled.a64c5981.png" alt="../.vuepress/public/images/ETC/process_and_thread/Untitled.png"></p> <p><strong>동기방식</strong>은 하나의 요청이 처리되는 동안 다른 요청이 처리되지 못한다. 따라서 요청이 완료되어야 다음 요청으로 넘어갈 수 있다. 동기방식은 IO처리를 💡Blocking하는데 지금까지는 이 문제를 스레드로 처리했다.</p> <p>비동기방식은 하나의 요청 처리가 완료되기전에 제어권을 다음 요청으로 넘긴다. 따라서 IO처리인 경우 Blocking되지 않으며 다음 요청을 처리할 수 있는 것 이다.</p> <blockquote><p>💡 <strong>Blocking I/O</strong></p></blockquote> <p>웹 앱이 브라우저에서 특정 코드를 실행하느라 브라우저에게 제어권을 돌려주지 않으면 브라우저는 마치 정지된 것처럼 보일 수 있습니다. 이러한 현상을 blocking 이라고 부릅니다. <strong><a href="https://developer.mozilla.org/ko/docs/Learn/JavaScript/Asynchronous/Concepts" target="_blank" rel="noopener noreferrer">출처<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <p>하나의 프로세스가 어떤 자원을 사용하고자 할 때 그 자원을 다른 프로세스가 점유하고 있다면, 그 프로세스가 그 자원의 사용을 끝마칠 때까지 기다려야 한다는 것.</p> <h2 id="⛅-자바스크립트는-싱글-스레드-기반이다"><a href="#⛅-자바스크립트는-싱글-스레드-기반이다" class="header-anchor">#</a> ⛅ 자바스크립트는 싱글 스레드 기반이다.</h2> <p><strong>싱글 스레드</strong> 기반이며 <strong>이벤트 기반의 비동기 방식</strong>으로 요청을 처리한다.</p> <p>따라서 요청을 처리하며 다음 요청을 받을 수 있다. 응답을 기다리지 않고 바로 다음 작업을 실행한다는 것이다. 또한 병렬처리를 스레드로 처리하지 않고 <strong>이벤트 기반 비동기로 처리</strong>하므로 멀티스레드가 갖는 근본적인 문제에서 자유롭다.</p> <p><em>+Node.js ⇒ 싱글 쓰레드만 사용하는 것이 아니라 내부적으로 멀티 쓰레드 풀을 사용하기는 한다.</em></p> <h3 id="참고"><a href="#참고" class="header-anchor">#</a> 참고</h3> <hr> <p><a href="https://www.nextree.co.kr/p7292/" target="_blank" rel="noopener noreferrer">https://www.nextree.co.kr/p7292/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://edu.goorm.io/learn/lecture/557/%ED%95%9C-%EB%88%88%EC%97%90-%EB%81%9D%EB%82%B4%EB%8A%94-node-js/lesson/21763/%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EA%B8%B0%EB%B0%98-%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B0%A9%EC%8B%9D" target="_blank" rel="noopener noreferrer">https://edu.goorm.io/learn/lecture/557/한-눈에-끝내는-node-js/lesson/21763/이벤트-기반-비동기-방식<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/11/2022, 5:17:02 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/Algorithm/greedy-lv1-42862.html" class="prev">
        [탐욕법(Greedy)][Lv1]  - 체육복 자바스크립트 js
      </a></span> <!----></p></div> </main></div> <div id="comment_con"><div></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/TIL/assets/js/app.db9675ed.js" defer></script><script src="/TIL/assets/js/9.4c2c0319.js" defer></script>
  </body>
</html>
